
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>LeetCode581 Shortest Unsorted Continuous Subarray · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="剑指offer-找出数组中重复的数字.html" />
    
    
    <link rel="prev" href="leetcode560.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Array
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="leetcode1.html">
            
                <a href="leetcode1.html">
            
                    
                    LeetCode1 Two Sum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="leetcode11.html">
            
                <a href="leetcode11.html">
            
                    
                    LeetCode11 Container With Most Water
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="leetcode26.html">
            
                <a href="leetcode26.html">
            
                    
                    LeetCode26 Remove Duplicates From Sorted Array
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="leetcode35.html">
            
                <a href="leetcode35.html">
            
                    
                    LeetCode35 Search Insertion Position
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="leetcode39.html">
            
                <a href="leetcode39.html">
            
                    
                    LeetCode39 Combination Sum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="leetcode53.html">
            
                <a href="leetcode53.html">
            
                    
                    LeetCode53 Maximum Subarray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="leetcode64.html">
            
                <a href="leetcode64.html">
            
                    
                    LeetCode64 Minimum Path Sum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="leetcode75.html">
            
                <a href="leetcode75.html">
            
                    
                    LeetCode75 SortColors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="leetcode121.html">
            
                <a href="leetcode121.html">
            
                    
                    LeetCode121 Best Time to Sell and Buy Stock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="leetcode169.html">
            
                <a href="leetcode169.html">
            
                    
                    LeetCode169 Majority Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="leetcode238.html">
            
                <a href="leetcode238.html">
            
                    
                    LeetCode238 Product of Array Except
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="leetcode283.html">
            
                <a href="leetcode283.html">
            
                    
                    LeetCode283 Move Zeroes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="leetcode448.html">
            
                <a href="leetcode448.html">
            
                    
                    LeetCode448 Find All Numbers Disappeared in an Array
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="leetcode560.html">
            
                <a href="leetcode560.html">
            
                    
                    LeetCode560 Subarray Sum Equals K
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.15" data-path="leetcode581.html">
            
                <a href="leetcode581.html">
            
                    
                    LeetCode581 Shortest Unsorted Continuous Subarray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.16" data-path="剑指offer-找出数组中重复的数字.html">
            
                <a href="剑指offer-找出数组中重复的数字.html">
            
                    
                    剑指offer 找出数组中重复的数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="范围查询.html">
            
                <a href="范围查询.html">
            
                    
                    Tsinghua OJ 范围查询(Range)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    LinkedList
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Stack/Queue
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Stack-Queue/栈和队列常用算法总结.html">
            
                <a href="../Stack-Queue/栈和队列常用算法总结.html">
            
                    
                    栈和队列的转换/用数组实现栈和队列
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Tree
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Tree/二叉树遍历算法总结.html">
            
                <a href="../Tree/二叉树遍历算法总结.html">
            
                    
                    二叉树遍历算法总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    bfs/dfs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../bfs-dfs/bfs-dfs总结.html">
            
                <a href="../bfs-dfs/bfs-dfs总结.html">
            
                    
                    bfs/dfs总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../bfs-dfs/leetcode40.html">
            
                <a href="../bfs-dfs/leetcode40.html">
            
                    
                    LeetCode40 Combination Sum II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../bfs-dfs/leetcode46.html">
            
                <a href="../bfs-dfs/leetcode46.html">
            
                    
                    LeetCode46 Permutation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../bfs-dfs/leetcode47.html">
            
                <a href="../bfs-dfs/leetcode47.html">
            
                    
                    LeetCode47 Permutations II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../bfs-dfs/leetcode78.html">
            
                <a href="../bfs-dfs/leetcode78.html">
            
                    
                    LeetCode78 Subsets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../bfs-dfs/leetcode90.html">
            
                <a href="../bfs-dfs/leetcode90.html">
            
                    
                    LeetCode90 Subsets II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../bfs-dfs/leetcode386.html">
            
                <a href="../bfs-dfs/leetcode386.html">
            
                    
                    LeetCode386 Lexicographical Numbers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    dp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../dp/leetcode62.html">
            
                <a href="../dp/leetcode62.html">
            
                    
                    LeetCode62 Unique Paths
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../dp/leetcode621.html">
            
                <a href="../dp/leetcode621.html">
            
                    
                    LeetCode621 Task Scheduler
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Fast-Slow-pointers
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../Fast-Slow-pointers/leetcode142.html">
            
                <a href="../Fast-Slow-pointers/leetcode142.html">
            
                    
                    LeetCode142 Linked List Cycle II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../Fast-Slow-pointers/leetcode287.html">
            
                <a href="../Fast-Slow-pointers/leetcode287.html">
            
                    
                    LeetCode287 Find the Duplicate Number
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Matrix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../Matrix/leetcode48.html">
            
                <a href="../Matrix/leetcode48.html">
            
                    
                    LeetCode48 Rotate Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../Matrix/剑指offer-二维数组中的查找.html">
            
                <a href="../Matrix/剑指offer-二维数组中的查找.html">
            
                    
                    剑指offer 二维数组中的查找
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Sort
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../Sort/排序算法总结.html">
            
                <a href="../Sort/排序算法总结.html">
            
                    
                    排序算法总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >LeetCode581 Shortest Unsorted Continuous Subarray</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><img src="http://qiniu.limengting.site/code9.jpg" alt=""></p>
<blockquote>
<p>Given an integer array, you need to find one continuous subarray that if you only sort this subarray in ascending order, then the whole array will be sorted in ascending order, too.</p>
<p>You need to find the shortest such subarray and output its length.</p>
</blockquote>
<!-- more -->
<blockquote>
<p>Example 1:
Input: [2, 6, 4, 8, 10, 9, 15]
Output: 5
Explanation:
You need to sort [6, 4, 8, 10, 9] in ascending order to make the whole array sorted in ascending order.</p>
<p>Note:
Then length of the input array is in range [1, 10,000].
The input array may contain duplicates, so ascending order here means &lt;=.</p>
<p>&#x540E;&#x4E09;&#x79CD;&#x89E3;&#x7B54;&#x53C2;&#x8003;<a href="https://leetcode.com/problems/shortest-unsorted-continuous-subarray/solution/" target="_blank">https://leetcode.com/problems/shortest-unsorted-continuous-subarray/solution/</a></p>
</blockquote>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> array;

<span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.Stack;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">leetcode581ShortestUnsortedContinuousSubarray</span> </span>{
    <span class="hljs-comment">/*=====================================================================================*/</span>
    <span class="hljs-comment">/*
     &#x81EA;&#x60F3;1&#xFF1A;
     &#x548C;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x7684;&#x6570;&#x5217;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#xFF0C;&#x904D;&#x5386;&#x4E24;&#x904D;&#x627E;&#x51FA;lo,hi
     Solution&#x533A;&#x770B;&#x5230;&#x7684;&#x6539;&#x8FDB;&#xFF0C;&#x904D;&#x5386;&#x4E00;&#x904D;&#x5373;&#x53EF;
     &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n)+O(nlogn)+O(n)=O(nlogn)
     &#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n)
    * */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">shortestSubarray1</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>{
        <span class="hljs-keyword">int</span>[] copy = nums.clone();
        Arrays.sort(nums);
        <span class="hljs-keyword">int</span> lo = Integer.MAX_VALUE, hi = Integer.MIN_VALUE;
        <span class="hljs-comment">/*for (int i = 0; i &lt; nums.length; i ++) {
            if (copy[i] != nums[i]) {
                lo = i;
                break;
            }
        }
        for (int j = nums.length - 1; j &gt;= 0; j --) {
            if (copy[j] != nums[j]) {
                hi = j;
                break;
            }
        }*/</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++) {
            <span class="hljs-keyword">if</span> (copy[i] != nums[i]) {
                lo = Math.min(i, lo);
                hi = Math.max(i, hi);
            }
        }
        <span class="hljs-keyword">return</span> lo &gt; hi ? <span class="hljs-number">0</span> : hi - lo + <span class="hljs-number">1</span>;
    }

 <span class="hljs-comment">/*=====================================================================================*/</span>

    <span class="hljs-comment">/*
    Solution&#x533A;&#x770B;&#x5230;&#x7684;&#xFF1A;
    &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x4E0D;&#x5728;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#x4E0A;&#x7684;&#x6570;lo&#x548C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4E0D;&#x5728;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#x4E0A;&#x7684;&#x6570;hi
    &#x4E0D;&#x5728;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#x4E0A;&#x7684;&#x6570;&#x662F;&#x6307;&#x6211;&#x4F5C;&#x4E3A;nums[i]&#x6216;nums[j]&#x6709;nums[i] &gt; nums[j]&#x4E14;i &lt; j
    lo&#x662F;&#x5176;&#x4E2D;&#x6700;&#x5C0F;&#x7684;num[i]&#xFF0C;hi&#x662F;&#x5176;&#x4E2D;&#x6700;&#x5927;&#x7684;nums[j]
    lo&#x548C;hi&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x6240;&#x6C42;
    &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n&#xB2;)&#xFF0C;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(1)
    &#x8FD9;&#x4E2A;&#x7B54;&#x6848;&#x63D0;&#x4EA4;&#x4F1A;&#x8D85;&#x65F6;&#xFF0C;&#x65E0;&#x6CD5;AC
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">shortestSubarray2</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>{
        <span class="hljs-keyword">int</span> lo = Integer.MAX_VALUE, hi = Integer.MIN_VALUE;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; nums.length; j++) {
                <span class="hljs-keyword">if</span> (nums[i] &gt; nums[j]) {
                    lo = Math.min(i, lo);
                    hi = Math.max(j, hi);
                }
            }
        }
        <span class="hljs-keyword">return</span> lo &gt; hi ? <span class="hljs-number">0</span> : hi - lo + <span class="hljs-number">1</span>;
    }
    <span class="hljs-comment">/*=====================================================================================*/</span>
    <span class="hljs-comment">/*
     * &#x7528;&#x6808;&#x6765;&#x6A21;&#x4EFF;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7684;&#x8FC7;&#x7A0B;
     * &#x4ECE;&#x524D;&#x5F80;&#x540E;&#x904D;&#x5386;&#x6570;&#x7EC4;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x4E0A;&#x5347;&#x7684;&#x5C31;&#x6B63;&#x5E38;&#x538B;&#x5165;&#x6808;&#x4E2D;&#xFF0C;
     * &#x5982;&#x679C;&#x662F;&#x4E0B;&#x964D;&#x7684;&#x5C31;&#x628A;&#x6808;&#x4E2D;&#x7684;&#x6570;&#x5012;&#x51FA;&#x6765;&#x5012;&#x5230;&#x5408;&#x9002;&#x7684;&#x4F4D;&#x7F6E;&#xFF08;&gt;=&#x6808;&#x9876;&#xFF09;&#x518D;&#x5C06;&#x8FD9;&#x4E2A;&#x6570;&#x538B;&#x5165;&#x6808;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x8FD9;&#x4E2A;&#x6570;&#x63D2;&#x5165;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;
     * &#x518D;&#x7EE7;&#x7EED;&#x904D;&#x5386;&#x5269;&#x4E0B;&#x7684;&#x6570;&#x7EC4;&#x5BFB;&#x627E;&#x4E0B;&#x4E00;&#x4E2A;&#x4E0B;&#x964D;&#x7684;&#x6570;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x63D2;&#x5165;&#x7684;&#x4F4D;&#x7F6E;&#x4E2D;&#x6700;&#x5C0F;&#x7684;&#x5C31;&#x662F;lo
     * &#x6CE8;&#x610F;&#x5012;&#x51FA;&#x7684;&#x6570;&#x5E76;&#x6CA1;&#x6709;&#x518D;&#x5012;&#x56DE;&#x6570;&#x7EC4;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6700;&#x7EC8;&#x6709;&#x7528;&#x7684;&#x662F;lo&#x6240;&#x4EE5;&#x63D2;&#x5165;&#x5230;lo&#x524D;&#x9762;&#x6765;&#x7684;&#x6570;&#x624D;&#x9700;&#x8981;&#x8BB0;&#x5F55;&#xFF0C;&#x5012;&#x51FA;&#x7684;&#x662F;&#x540E;&#x9762;&#x7684;&#x6570;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x7BA1;
     * &#x540C;&#x7406;&#x53CD;&#x5411;&#x904D;&#x5386;&#x5728;&#x4E0B;&#x964D;&#x7684;&#x4E2D;&#x627E;&#x4E0A;&#x5347;&#x7684;&#x6570;&#x7684;&#x63D2;&#x5165;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x6700;&#x5927;&#x7684;&#x4F4D;&#x7F6E;&#x5C31;&#x662F;hi
     * &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n)&#xFF0C;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n)
     * */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">shortestSubarray3</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>{
        <span class="hljs-keyword">int</span> lo = Integer.MAX_VALUE, hi = Integer.MIN_VALUE;
        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> Stack&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++) {
            <span class="hljs-comment">/*
            &#x6B63;&#x5E38;&#x90FD;&#x662F;&#x4E0A;&#x5347;&#x7684;&#xFF0C;&#x521A;&#x521A;&#x538B;&#x5165;&#x7684;&#x6570;&#xFF08;&#x6808;&#x9876;&#xFF09;&lt;= &#x5373;&#x5C06;&#x538B;&#x5165;&#x7684;&#x6570;&#xFF08;nums[i]&#xFF09;
            &#x5F53;&#x6808;&#x9876;&#x5927;&#x4E8E;&#x5373;&#x5C06;&#x538B;&#x5165;&#x7684;&#x6570;&#x5219;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x538B;&#x5165;&#xFF0C;
            &#x8981;&#x5C06;&#x6808;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x5012;&#x51FA;&#x6765;&#x4E00;&#x90E8;&#x5206;&#x76F4;&#x5230;&#x6808;&#x9876; &lt;= &#x5373;&#x5C06;&#x538B;&#x5165;&#x7684;&#x6570; &#x6216;&#x8005; &#x5012;&#x5230;&#x6808;&#x4E3A;&#x7A7A;&#xFF0C;&#x6B64;&#x65F6;&#x624D;&#x53EF;&#x4EE5;&#x538B;&#x5165;&#x8FD9;&#x4E2A;&#x6570;
            */</span>
            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; nums[stack.peek()] &gt; nums[i]) {
                lo = Math.min(lo, stack.pop());
            }
            stack.push(i);
        }
        stack.clear();
        <span class="hljs-comment">// &#x9006;&#x7740;&#x770B;</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = nums.length - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; nums[stack.peek()] &lt; nums[j]) {
                hi = Math.max(hi, stack.pop());
            }
            stack.push(j);
        }
        <span class="hljs-keyword">return</span> lo &gt; hi ? <span class="hljs-number">0</span> : hi - lo + <span class="hljs-number">1</span>;
    }
    <span class="hljs-comment">/*=====================================================================================*/</span>
    <span class="hljs-comment">/*Solution&#x533A;&#xFF1A;
    &#x53C2;&#x8003;https://leetcode.com/problems/shortest-unsorted-continuous-subarray/solution/
    &#x8BB0;&#x5F55;&#x6781;&#x503C;&#x70B9;&#xFF0C;&#x627E;&#x5230;&#x6781;&#x503C;&#x70B9;&#x533A;&#x95F4;&#x5185;&#x7684;&#x6700;&#x5C0F;&#x548C;&#x6700;&#x5927;&#x7684;&#x5750;&#x6807;&#x5373;&#x4E3A;&#x9700;&#x8981;&#x91CD;&#x6392;&#x7684;&#x533A;&#x95F4;
    &#x56E0;&#x4E3A;&#x6700;&#x5C0F;&#x7684;&#x503C;&#x8981;&#x63D2;&#x5165;&#x5230;&#x6700;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x5982;i&#xFF0C;&#x7B2C;i&#x4F4D;&#x7F6E;&#x539F;&#x6709;&#x7684;&#x503C;&#x540E;&#x79FB;&#xFF0C;&#x7B2C;i&#x4F4D;&#x7F6E;&#x8981;&#x8BB0;&#x5165;&#x91CD;&#x6392;&#x7684;&#x533A;&#x95F4;&#x5185;
    &#x53C2;&#x8003;&#x6587;&#x672B;&#x56FE;
    &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(n)&#xFF0C;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;O(1)
    * */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">shortestSubarray4</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>{
        <span class="hljs-keyword">int</span> min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.length; i++) {
            <span class="hljs-comment">// &#x6B63;&#x5411;&#x65F6;&#x6B63;&#x5E38;&#x5E94;&#x8BE5;&#x4E0A;&#x5347;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4E0B;&#x964D;&#x5219;&#x8BB0;&#x5F55;&#x4E0B;&#x964D;&#x7684;&#x6570;&#x7684;&#x503C;</span>
            <span class="hljs-keyword">if</span> (nums[i - <span class="hljs-number">1</span>] &gt; nums[i]) {
                <span class="hljs-comment">// min&#x4E3A;&#x4E0B;&#x964D;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x503C;&#xFF0C;&#x6781;&#x503C;&#x70B9;</span>
                min = Math.min(min, nums[i]);
            }
        }
        <span class="hljs-comment">// &#x6CA1;&#x6709;&#x9006;&#x5E8F;&#x5BF9;</span>
        <span class="hljs-keyword">if</span> (min == Integer.MAX_VALUE) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nums.length - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-comment">// &#x9006;&#x5411;&#x65F6;&#x6B63;&#x5E38;&#x5E94;&#x8BE5;&#x4E0B;&#x964D;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4E0A;&#x5347;&#x5219;&#x8BB0;&#x5F55;&#x4E0A;&#x5347;&#x7684;&#x503C;</span>
            <span class="hljs-keyword">if</span> (nums[i] &gt; nums[i + <span class="hljs-number">1</span>]) {
                <span class="hljs-comment">// max&#x4E3A;&#x4E0A;&#x5347;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x6781;&#x503C;&#x70B9;</span>
                max = Math.max(max, nums[i]);
            }
        }

        <span class="hljs-keyword">int</span> lo, hi;
        <span class="hljs-keyword">for</span> (lo = <span class="hljs-number">0</span>; lo &lt; nums.length; lo++) {
            <span class="hljs-comment">// &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x5927;&#x4E8E;min&#x7684;&#x503C;&#xFF0C;&#x5219;min&#x5E94;&#x8BE5;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x662F;lo</span>
            <span class="hljs-keyword">if</span> (nums[lo] &gt; min)
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">for</span> (hi = nums.length - <span class="hljs-number">1</span>; hi &gt;= <span class="hljs-number">0</span>; hi--) {
            <span class="hljs-comment">// &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x5C0F;&#x4E8E;max&#x7684;&#x503C;&#xFF0C;&#x5219;max&#x5E94;&#x8BE5;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x662F;hi</span>
            <span class="hljs-keyword">if</span> (nums[hi] &lt; max)
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> hi - lo + <span class="hljs-number">1</span>;
    }
    <span class="hljs-comment">/*=====================================================================================*/</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-keyword">int</span>[] nums1 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>};
        <span class="hljs-keyword">int</span>[] nums2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>};
        <span class="hljs-keyword">int</span>[] nums3 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>};
        <span class="hljs-keyword">int</span>[] nums4 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>};
        System.out.println(shortestSubarray1(nums1));
        System.out.println(shortestSubarray2(nums2));
        System.out.println(shortestSubarray3(nums3));
        System.out.println(shortestSubarray4(nums4));
    }
}
</code></pre>
<p><img src="http://qiniu.limengting.site/leetcode581.png" alt=""></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="leetcode560.html" class="navigation navigation-prev " aria-label="Previous page: LeetCode560 Subarray Sum Equals K">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="剑指offer-找出数组中重复的数字.html" class="navigation navigation-next " aria-label="Next page: 剑指offer 找出数组中重复的数字">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"LeetCode581 Shortest Unsorted Continuous Subarray","date":"2018-09-06T00:30:51.000Z","categories":"算法","tags":["LeetCode","Top 100 Liked Questions","Array","Medium","Java","algorithms"],"level":"1.2.15","depth":2,"next":{"title":"剑指offer 找出数组中重复的数字","level":"1.2.16","depth":2,"path":"Array/剑指offer-找出数组中重复的数字.md","ref":"Array/剑指offer-找出数组中重复的数字.md","articles":[]},"previous":{"title":"LeetCode560 Subarray Sum Equals K","level":"1.2.14","depth":2,"path":"Array/leetcode560.md","ref":"Array/leetcode560.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Array/leetcode581.md","mtime":"2018-11-24T16:26:40.649Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-25T05:46:40.218Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

